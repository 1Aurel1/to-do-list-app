<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="layout/main">

<head>

    <head>
        <title>Login</title>
    </head>

    <section class="mt-5" layout:fragment="content">
        <div class="row justify-content-center">


            <div class="pt-5 col-lg-4">
                <form th:action="@{/users/authenticate}" method="post">
                    <div class="header-text text-center">
                        <h3 class="text-center">Login to ToDo App</h3>
                        <a th:href="@{~/users/register}" class=" w-100 text-center">or create an Account</a>
                    </div>


                    <div th:if="${param.error}"
                         th:with="errorMsg=${session['SPRING_SECURITY_LAST_EXCEPTION'].message}"
                         class="alert mt-2 alert-danger alert-dismissible fade show" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                            <span class="sr-only">Close</span>
                        </button>
                        <span th:text="${errorMsg}">Wrong input!</span>
                    </div>

                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="login" class="form-control" name="username" placeholder="username"/>
                    </div>

                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" class="form-control" name="password"
                               placeholder="password"/>
                    </div>

                    <div class="form-check">
                        <label class="form-check-label">
                            <input type="checkbox" class="form-check-input" name="remember-me" id="remember"
                                   value="true" checked>
                            Remember Me?
                        </label>
                    </div>

                    <button type="submit" value="Login" class="btn btn-primary mt-3">Login</button>

                </form>
            </div>

        </div>
    </section>


    <section id="bodyScripts" layout:fragment="bodyScripts">

    </section>